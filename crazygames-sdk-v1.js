!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CrazyEventTypeMap=t.CrazyAdTypeMap=t.debug=void 0;var i,o=r(n(3)),a=r(n(5)),s=function(){function e(){}return e.getInstance=function(){if(!this.instance)try{var e=window.parent;e.Crazygames&&e.Crazygames.load?(u("Running with CrazySDK"),this.instance=new o.default):(u("Running with LocalSDK"),i=!0,this.instance=new a.default)}catch(e){u("Falling back to CrazySDK"),this.instance=new o.default}return this.instance},e.instance=null,e}();function u(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];void 0===i&&(i="true"===c("sdk_debug")),i&&(t.length>0?console.log("[JS-SDK] "+e,t):console.log("[JS-SDK] "+e))}function c(e){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(e).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))}t.debug=u,t.CrazyAdTypeMap={midgame:"midgame",rewarded:"rewarded"},t.CrazyEventTypeMap={adStarted:"adStarted",adFinished:"adFinished",adError:"adError",adblockDetectionExecuted:"adblockDetectionExecuted"},window.CrazyGames={CrazySDK:s,CrazyAdType:t.CrazyAdTypeMap,CrazyEventType:t.CrazyEventTypeMap},t.default=o.default},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.INIT_STATE=void 0;var o,a=n(0);!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.REQUESTED=1]="REQUESTED",e[e.INITIALIZED=2]="INITIALIZED"}(o=t.INIT_STATE||(t.INIT_STATE={}));var s=function(){function e(){this.initState=o.UNINITIALIZED,this.requestInProgress=!1,this.eventListeners={},this.adblockDetectionExecuted=!1,this.hasAdblock=!1,this.gameLink=null}return e.prototype.addEventListener=function(e,t){var n;if(this.isValidCrazyEvent(e)){var o=this.eventListeners[e]||[];this.eventListeners=r(r({},this.eventListeners),((n={})[e]=i(o,[t]),n)),this.callListenersForTriggeredEvents(e,t)}else console.error("[CrazySDK] Invalid Event",e)},e.prototype.removeEventListener=function(e,t){var n;if(this.isValidCrazyEvent(e)){var i=this.eventListeners[e]||[];this.eventListeners=r(r({},this.eventListeners),((n={})[e]=i.filter((function(e){return e!==t})),n))}else console.error("[CrazySDK] Invalid Event",e)},e.prototype.callListenersForTriggeredEvents=function(e,t){switch(e){case"adblockDetectionExecuted":return this.adblockDetectionEventCallback(t);case"initialized":return this.initEventCallback(t)}},e.prototype.adblockDetectionEventCallback=function(e){this.adblockDetectionExecuted&&e({hasAdblock:this.hasAdblock})},e.prototype.inviteLink=function(e){void 0===e&&(e={}),a.debug("Requesting invite link"),this.ensureInit(!1);var t="utm_source=invite";Object.keys(e).forEach((function(n){var r=n+"="+e[n];t=t+"&"+r}));var n=this.gameLink||"https://www.crazygames.com/game/your-game-will-appear-here",r=n.includes("?")?n+"&"+t:n+"?"+t;return a.debug("Invite link is "+r),r},e.prototype.initEventCallback=function(e){this.initState===o.INITIALIZED&&e({userInfo:this.userInfo})},e.prototype.callListeners=function(e,t){(this.eventListeners[e]||[]).forEach((function(e){return e(t)}))},e.prototype.isValidCrazyEvent=function(e){switch(e){case"adStarted":case"adFinished":case"adError":case"adblockDetectionExecuted":case"bannerRendered":case"bannerError":case"requestBanner":case"initialized":return!0;default:return!1}},e.prototype.renderFakeBanner=function(e){var t=e.size.split("x"),n=t[0],r=t[1],i=document.getElementById(e.containerId);if(i){i.innerHTML="";var o=document.createElement("img");o.setAttribute("src","https://images.crazygames.com/crazygames-sdk/"+e.size+".png"),o.setAttribute("width",n+"px"),o.setAttribute("height",r+"px"),i.appendChild(o)}},e}();t.default=s},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkContainerVisible=void 0;function o(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){return[2,new Promise((function(t){var n=new IntersectionObserver((function(e){var r=e[0];t(r.intersectionRatio>.95),n.disconnect()}));n.observe(e)}))]}))}))}t.checkContainerVisible=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return(n=document.getElementById(e))?[4,o(n)]:(t("The container "+e+" is not present on the page"),[2,!1]);case 1:return r.sent()?[2,!0]:(t("The container "+e+" is not entirely visible on the page"),[2,!1])}}))}))}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),d=n(4),f=n(0),h=n(2),p=function(e){function t(){var t=e.call(this)||this;return t.queuedBanners=[],t.initCallbacks=[],t.rafvertizingUrl="",t.receiveMessage=function(e){var n=e.data,r=n.type,i=n.data;r&&("initialized"!==r?t.isValidCrazyEvent(r)&&t.callListeners(r,e.data):t.initializeReply(i))},t.queuedRequest=null,t.registerDefaultListeners(),t}return i(t,e),t.prototype.init=function(){this.initState===l.INIT_STATE.UNINITIALIZED&&(f.debug("Initializing"),this.registerMessageListener(),this.postMessage("init",{version:"1.18.0",sdkType:"js"}),this.initState=l.INIT_STATE.REQUESTED)},t.prototype.requestAd=function(e){return void 0===e&&(e="midgame"),u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return f.debug("Requesting "+e+" ad"),[4,this.ensureInit()];case 1:return t.sent(),this.requestInProgress?[2]:(this.requestInProgress=!0,this.postMessage("requestAd",{adType:e}),[2])}}))}))},t.prototype.requestBanner=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,this.ensureInit(!0)];case 1:o.sent(),f.debug("Requesting banners to gameframe",e),t=[],n=0,r=e,o.label=2;case 2:return n<r.length?(i=r[n],[4,this.checkVisible(i.containerId)]):[3,5];case 3:o.sent()&&t.push(i),o.label=4;case 4:return n++,[3,2];case 5:if(t.length>0){if(f.debug("Valid banners",e),this.queuedBanners=t,""===this.rafvertizingUrl)return f.debug("Banner requested before init callback"),[2];this.postMessage("requestBanner",t)}return[2]}}))}))},t.prototype.checkVisible=function(e){return u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){return[2,h.checkContainerVisible(e,(function(n){t.callListeners("bannerError",{containerId:e,error:n})}))]}))}))},t.prototype.inviteLink=function(t){void 0===t&&(t={});var n=e.prototype.inviteLink.call(this,t);return this.postMessage("inviteUrl",{inviteUrl:n}),n},t.prototype.happytime=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return f.debug("Requesting happytime"),[4,this.ensureInit()];case 1:return e.sent(),this.postMessage("happytime",{}),[2]}}))}))},t.prototype.gameplayStart=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return f.debug("Requesting gameplay start"),[4,this.ensureInit()];case 1:return e.sent(),this.postMessage("gameplayStart",{}),[2]}}))}))},t.prototype.gameplayStop=function(){return u(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return f.debug("Requesting gameplay stop"),[4,this.ensureInit()];case 1:return e.sent(),this.postMessage("gameplayStop",{}),[2]}}))}))},t.prototype.registerDefaultListeners=function(){var e=this;f.debug("Registering default listeners"),this.addEventListener("adFinished",(function(){e.requestInProgress=!1})),this.addEventListener("adError",(function(){e.requestInProgress=!1})),this.addEventListener("adblockDetectionExecuted",(function(t){e.adblockDetectionExecuted=!0;var n=t.hasAdblock;e.hasAdblock=!!n})),this.addEventListener("bannerError",(function(e){f.debug(e.error,e.containerId)})),this.addEventListener("bannerRendered",(function(e){f.debug("Banner rendered for container "+e.containerId)})),this.addEventListener("requestBanner",(function(t){return u(e,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return f.debug("Banner request answer from gameframe received"),this.buildBannerRequestCallback(t.request),[4,d.requestInGameBanner(t.request)];case 1:return e.sent(),[2]}}))}))}))},t.prototype.buildBannerRequestCallback=function(e){var t=this;e.options.banner={callback:function(e){if(e.empty){if(t.useTestAds){var n=t.queuedBanners.find((function(t){return t.containerId===e.code}));return void(n&&(t.renderFakeBanner(n),t.removeBannerFromQueue(e.code),t.callListeners("bannerRendered",{containerId:e.code})))}var r="Sorry, no banner is available for the moment for "+e.code+", please retry";t.callListeners("bannerError",{containerId:e.code,error:r}),t.removeBannerFromQueue(e.code)}else t.removeBannerFromQueue(e.code),t.callListeners("bannerRendered",{containerId:e.code})}}},t.prototype.removeBannerFromQueue=function(e){this.queuedBanners=this.queuedBanners.filter((function(t){return t.containerId!==e}))},t.prototype.registerMessageListener=function(){window.addEventListener("message",this.receiveMessage,!1)},t.prototype.initializeReply=function(e){return u(this,void 0,void 0,(function(){return c(this,(function(t){return f.debug("Initialize reply received from gameframe",e),this.initState===l.INIT_STATE.INITIALIZED||(e&&(this.gameLink=e.gameLink,this.rafvertizingUrl=e.rafvertizingUrl,this.useTestAds=e.useTestAds,this.userInfo=e.userInfo),this.initState=l.INIT_STATE.INITIALIZED,this.initCallbacks.length>0&&(f.debug("Calling init callbacks"),this.initCallbacks.forEach((function(e){return e()})),this.initCallbacks=[]),this.callListeners("initialized",{userInfo:this.userInfo})),[2]}))}))},t.prototype.ensureInit=function(e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){var t=this;return c(this,(function(n){return this.initState===l.INIT_STATE.INITIALIZED?e?[2,d.loadCrazyAdsIfNeeded(this.rafvertizingUrl)]:[2,Promise.resolve()]:(this.init(),[2,new Promise((function(n){t.initCallbacks.push((function(){e||n(),d.loadCrazyAdsIfNeeded(t.rafvertizingUrl).then(n)}))}))])}))}))},t.prototype.postMessage=function(e,t){this.getCrazySDKWindow().postMessage({type:e,data:t},"*")},t.prototype.getCrazySDKWindow=function(){return window.parent},t}(l.default);t.default=p},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadCrazyAdsIfNeeded=t.loadScript=t.requestInGameBanner=void 0;var o,a=n(0);function s(e){return new Promise((function(t,n){var r=document.createElement("script");r.onload=function(){return t()},r.onerror=function(e){return n(e)},r.src=e,r.async=!0,document.head.appendChild(r)}))}t.requestInGameBanner=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){return t=window.CrazygamesAds,a.debug("Requesting banner to CrazyAds"),t.requestAds(e.request,e.options),[2]}))}))},t.loadScript=s,t.loadCrazyAdsIfNeeded=function(e){return window.CrazygamesAds?Promise.resolve():function(e){if(o)return o;return o=s(e)}(e)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var l=s(n(1)),d=n(2),f=n(0),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overlay=null,t.adDurationInMs=5e3,t}return i(t,e),t.prototype.init=function(){this.initState!==l.INIT_STATE.INITIALIZED&&(this.initState=l.INIT_STATE.INITIALIZED,this.overlay=document.createElement("div"),this.createOverlayStyle(),document.body.appendChild(this.overlay),f.debug("initializing"))},t.prototype.requestAd=function(e){return void 0===e&&(e="midgame"),u(this,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,this.ensureInit()];case 1:return t.sent(),this.requestInProgress?[2]:(this.renderFakeAd(e),[2])}}))}))},t.prototype.happytime=function(){f.debug("happy time")},t.prototype.gameplayStart=function(){f.debug("gameplay start")},t.prototype.gameplayStop=function(){f.debug("gameplay stop")},t.prototype.requestBanner=function(e){return u(this,void 0,void 0,(function(){var t,n,r,i,o;return c(this,(function(a){switch(a.label){case 0:f.debug("Requesting banners to gameframe",e),t=[],n=function(e){return c(this,(function(n){switch(n.label){case 0:return[4,d.checkContainerVisible(e.containerId,(function(t){return f.debug(t,e.containerId)}))];case 1:return n.sent()&&t.push(e),[2]}}))},r=0,i=e,a.label=1;case 1:return r<i.length?(o=i[r],[5,n(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return t.length>0&&(f.debug("Valid banners",t),this.renderFakeBanners(t)),[2]}}))}))},t.prototype.ensureInit=function(e){return void 0===e&&(e=!1),u(this,void 0,void 0,(function(){return c(this,(function(e){return[2]}))}))},t.prototype.initEventCallback=function(e){f.debug("Cannot get user info outside of CrazyGames"),this.initState===l.INIT_STATE.INITIALIZED&&e({userInfo:{browser:{name:"Chrome",version:"89.0.4389.82"},countryCode:"FR",os:{name:"Windows",version:"10"}}})},t.prototype.renderFakeBanners=function(e){var t=this;e.forEach((function(e){t.renderFakeBanner(e)}))},t.prototype.renderFakeAd=function(e){var t=this;f.debug("requesting "+e+" ad"),this.requestInProgress=!0,this.showOverlay(),this.overlay.innerHTML="<h1>A "+e+" ad would appear here</h1>",this.callListeners("adStarted",{}),window.setTimeout((function(){t.requestInProgress=!1,t.callListeners("adFinished",{}),t.hideOverlay()}),this.adDurationInMs)},t.prototype.showOverlay=function(){this.overlay.style.display="flex"},t.prototype.hideOverlay=function(){this.overlay.style.display="none",this.overlay.innerHTML=""},t.prototype.createOverlayStyle=function(){var e={position:"fixed",display:"none",width:"100%",height:"100%",top:"0",left:"0",right:"0",bottom:"0","align-items":"center","justify-content":"center","background-color":"rgba(0,0,0,0.5)","z-index":"10000"};for(var t in e)this.overlay.style[t]=e[t]},t}(l.default);t.default=h}]);
//# sourceMappingURL=bundle.js.map